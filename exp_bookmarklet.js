javascript:(()=>{const R={b:1,s:2,g:4,p:8};const ra=li=>{const i=li.querySelector('img[src*="/img/mi/"]');if(!i)return null;const m=i.src.match(/\/mi\/([a-z])\//i);return m?R[m[1].toLowerCase()]??null:null};const gr=li=>{const i=li.querySelector('img[src*="grade_"]');if(!i)return null;const m=i.src.match(/grade_(\d+)\.png/i);return m?Number(m[1]):null};const lv=li=>{const t=li.innerText||'';const m=t.match(/Lv\s*(\d+)/i);return m?Number(m[1]):null};const price=li=>{const p=li.querySelector('p.price');if(!p)return null;const m=(p.textContent||'').match(/価格\s*:\s*([\d,]+)\s*Any/i);if(!m)return null;const n=Number(m[1].replace(/,/g,''));return Number.isFinite(n)&&n>0?n:null};const raw=(r,g,l)=>r*g*((l+4)/5)*16;const fmt=x=>{const s=(Math.round(x*1000)/1000).toFixed(3);return s.replace(/\.?0+$/,'')};const ul=document.querySelector('nav.block ul');if(!ul)return;const lis=[...ul.children];lis.forEach(li=>{const r=ra(li),g=gr(li),l=lv(li);if(r==null||g==null||l==null)return;const d=Math.floor(raw(r,g,l)),s=Math.floor(raw(r,g,l)*1.125),pr=price(li);let exp=[...li.querySelectorAll('p')].find(e=>/^経験値\s*[:：]/.test(e.textContent));let eff=[...li.querySelectorAll('p')].find(e=>/^効率\s*\(1Any\)/.test(e.textContent));if(!exp)exp=document.createElement('p');exp.textContent=`経験値: 異種族${d} / 同種族${s}`;if(pr!=null){if(!eff)eff=document.createElement('p');eff.textContent=`効率(1Any): 異種族${fmt(d/pr)} / 同種族${fmt(s/pr)}`;li.dataset.effSame=(s/pr);li.dataset.effDiff=(d/pr)}else{if(eff)eff.remove();delete li.dataset.effSame;delete li.dataset.effDiff}const priceP=li.querySelector('p.price');const ps=li.querySelectorAll('p');const a=priceP??ps[ps.length-1];a?a.after(exp):li.appendChild(exp);if(pr!=null)exp.after(eff)});if(!lis.some(li=>li.dataset.effSame!=null))return;const wp=[],np=[];lis.forEach(li=>li.dataset.effSame!=null?wp.push(li):np.push(li));wp.sort((a,b)=>Number(b.dataset.effSame)-Number(a.dataset.effSame)||Number(b.dataset.effDiff)-Number(a.dataset.effDiff));[...wp,...np].forEach(li=>ul.appendChild(li))})();